angular.module("eightfold",["ngSanitize"]).controller("efController",["$scope",function(a){window.innerHeight;a.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}]),angular.module("eightfold").directive("loader",["$timeout",function(a){return{template:'<div ng-class="{\'fade-out\':loaded}" class="banner-logo" ng-include="\'img/ef-logo.svg\'"></div>',replace:!0,controller:["$scope","$element","$attrs","$transclude",function(b,c,d,e){console.log("Loading...");var f=["img/emotion-background.svg","img/attention-background.svg","img/perception-background.svg","img/clouds.png"],g=0,h=!1,i=function(){g++,g>=_.size(f)&&(console.log("...Assets Loaded"),h=!0)};_.forEach(f,function(a){var b=new Image;b.onLoad=i(),b.src=a});var j=function(c){a(function(){h===!0?b.loaded=!0:j(1e3)},c)};j(5e3)}]}}]),angular.module("eightfold").directive("videoBanner",["$timeout",function(a){return{templateUrl:"js/videoBanner/videoBanner.html",link:function(b,c,d,e){b.videoStyle={height:window.innerHeight},b.animateIn=!0,b.bannerTypography=null;var f=["img/attention-background.svg","img/emotion-background.svg","img/perception-background.svg"],g=0;b.$watch("loaded",function(b){1==b&&a(function(){h()},1e3)});var h=function(){b.animateIn=!0,b.bannerTypography=f[g],a(function(){b.animateIn=!1,a(function(){b.bannerTypography=null},500),a(function(){g++,g>=f.length&&(g=0),h()},750)},9e3)}}}}]),angular.module("eightfold").directive("scrollReveal",["$timeout",function(a){return{scope:!0,template:'<div class="scroll-reveal" ng-class="{revealed:reveal}" ng-transclude></div>',replace:!0,transclude:!0,link:function(b,c,d,e){b.reveal=!1;var f=function(){console.log("revealed"),b.reveal!==!0&&c.offset().top-window.innerHeight<=$(window).scrollTop()&&a(function(){b.reveal=!0},100)};$(window).scroll(f),f()}}}]),angular.module("eightfold").directive("efPortfolio",["$http","$sce",function(a,b){return{name:"efPortfolio",scope:!1,controller:["$scope","$element","$attrs","$transclude",function(b,c,d,e){b.portfolio={},b.thumbHeight={height:window.innerHeight/2},a.get("js/portfolio/portfolio.json").success(function(a,c,d,e){b.portfolio=a,console.log(b.portfolio)}).error(function(a,b,c,d){console.log(a)})}],templateUrl:"js/portfolio/ef-portfolio.html",replace:!0,link:function(a,c,d,e){a.playVideo=function(c){a.video=b.trustAsResourceUrl(c),a.videoVisible=!0},a.hideVideo=function(){a.videoVisible=!1}}}}]);